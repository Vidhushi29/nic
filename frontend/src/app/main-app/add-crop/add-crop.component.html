<div class="pt-3 pb-3 px-4">
    <form [formGroup]="ngForm">


        <div class=" card">
            <div class="col-12 heading mt-3 pb-3 pl-3 ">
                {{title}}

            </div>
            <!-- form-row -->
            <div class="row form-group pl-2">
                <div class="col-12 pt-3 pr-2">
                    <div class="row">
                        <div class="col-md-12 col-sm-12  col-lg-2 pl-4">
                            <label for="" class="left-heading">Crop Group</label>
                        </div>
                        <div
                            class="col-md-12 col-sm-11 d-flex pl-sm-3 pl-lg-0 pl-4 col-lg-9 ml-xs-3 px-sm-4 pr-sm-4 col-11 col-xs-3 pl-sm-4 pr-sm-4 pl-md-4 pr-mr-4">
                            <div ngbDropdown class="d-inline-block w-100 ">

                                <button class="btn takeplacholder w-100 crop toggle-button"
                                    [ngClass]=" disabledfield || isEdit ? 'disabledfield' : ''" id="group_code"
                                    ngbDropdownToggle style="text-align: left;font-weight:400;">{{selected_group &&
                                    (selected_group.length>30) ? (selected_group.substring(0,30)+'...'):selected_group?
                                    selected_group :'Select Crop Group'}}</button>

                                <div class="dropdown-menu w-100" ngbDropdownMenu="group_code"
                                    aria-labelledby="sortMenu">
                                    <input type="text" class="form-control px-4" formControlName="group_text">
                                    <button class="dropdown-item" *ngFor="let data of croupGroupList"
                                        (click)="group_select(data)" #dropdownItem
                                        [attr.data-parent-name]="'group_code'">
                                        {{data.group_name}}
                                        <!-- <input type="hidden" formControlName="crop_code"> -->
                                    </button>

                                </div>
                                <div class="pl-0 toggle-button" ngbDropdown
                                    [ngClass]=" disabledfield || isEdit ? 'disabledfield' : ''">
                                    <i class="fa-solid fa-angle-down downicon" (click)="cnClick()"></i>
                                </div>
                                <!-- <select formControlName="group_code" class="form-control"
                                    [ngClass]="disabledfield ? 'form-crop':''">
                                    <option value="">Select Crop Group</option>
                                    <option value="{{data.group_code}}" *ngFor="let data of croupGroupList">
                                        {{data.group_name}}</option>
                                </select> -->
                                <!-- <button class="btn takeplacholder w-100 crop toggle-button" [ngClass]=" disabledfield ? 'disabledfield' : ''" id="crop_group" ngbDropdownToggle style="text-align: left;">{{selectCrop  ? selectCrop: "Select Croup Group"}}</button>
                          
                            <div class="dropdown-menu w-100" ngbDropdownMenu="crop_group"  aria-labelledby="sortMenu">
                              <button class="dropdown-item" (click)="cropGroup(data)" *ngFor="let data of croupGroupList " >{{data && data.group_name ? data.group_name :" Select Croup Group"}}</button>

                            </div> -->
                                <div class="group_code errorMessage "
                                    *ngIf="submitted || ngForm.controls['group_code'].invalid && (ngForm.controls['group_code'].dirty || ngForm.controls['group_code'].touched)">
                                    <span *ngIf=" ngForm.controls['group_code'].errors?.['required']">
                                        Please Select Crop Group.<br>
                                    </span>
                                </div>

                            </div>
                            <!-- <div class="pl-0 toggle-button" ngbDropdown >
                            <i class="fa-solid fa-angle-down downicon" (click)="cgClick()"></i>
                        </div> -->


                        </div>

                    </div>
                    <!-- </div> -->

                </div>
                <div class="col-12 pt-3 pr-2">
                    <div class="row">
                        <div class="col-md-12 col-sm-12  col-lg-2 pl-4 ">
                            <label for="" class="left-heading">Season</label>
                        </div>
                        <div
                            class="col-md-12 col-sm-11 d-flex  pl-sm-3 pl-lg-0 pl-4 col-lg-9 ml-xs-3 px-sm-4 pr-sm-4 col-11 col-xs-3 pl-sm-4 pr-sm-4 pl-md-4 pr-mr-4">
                            <div ngbDropdown class="d-inline-block w-100 ">
                                <button class="btn takeplacholder w-100 crop toggle-button"
                                    [ngClass]=" disabledfield  ? 'disabledfield' : ''" id="season" ngbDropdownToggle
                                    style="text-align: left;font-weight:400;">{{select_season &&
                                    (select_season.length>30) ? (select_season.substring(0,30)+'...'):select_season?
                                    select_season :'Select Season'}}</button>

                                <div class="dropdown-menu w-100" ngbDropdownMenu="season" aria-labelledby="sortMenu">
                                    <button class="dropdown-item" *ngFor="let data of seasonList"
                                        (click)="season_select(data)" #dropdownItem [attr.data-parent-name]="'season'">
                                        {{data.season}}
                                        <!-- <input type="hidden" formControlName="crop_code"> -->
                                    </button>
                                    <!-- <input type="text" class="form-control px-4" formControlName="season_text"> -->
                                    <button class="dropdown-item" (click)="season_select('both')">Both</button>
                                    <button class="dropdown-item" (click)="season_select('no')">Not in
                                        Indenting System</button>

                                </div>
                                <div class="pl-0 toggle-button" ngbDropdown
                                    [ngClass]=" disabledfield ? 'disabledfield' : ''">
                                    <i class="fa-solid fa-angle-down downicon" (click)="cgClick()"></i>
                                </div>

                                <div class="season errorMessage "
                                    *ngIf="submitted || ngForm.controls['season'].invalid && (ngForm.controls['season'].dirty || ngForm.controls['season'].touched)">
                                    <span *ngIf=" ngForm.controls['season'].errors?.['required']">
                                        Please Select Season.<br>
                                    </span>
                                </div>

                            </div>
                            <!-- <div class="pl-0 toggle-button" ngbDropdown >
                            <i class="fa-solid fa-angle-down downicon"  (click)="SeasonClick()"></i>
                        </div> -->
                        </div>
                    </div>
                </div>
                <div class="col-12 pt-3 pr-2">
                    <div class="row">
                        <div class="col-md-12 col-sm-12  col-lg-2 pl-4 ">
                            <label for="" class="left-heading">Crop Code</label>
                        </div>
                        <div
                            class="col-md-12 col-sm-11 pl-sm-3 pl-lg-0 pl-4 col-lg-9 ml-xs-3 px-sm-4 pr-sm-4 col-11 col-xs-3 pl-sm-4 pr-sm-4 pl-md-4 pr-mr-4">
                            <input type="text" class="form-control" [ngClass]=" disabledfield ? 'disabledfield' : ''"
                                formControlName="crop_code" placeholder="" style="pointer-events: none;">
                            <!-- <div class="crop_code errorMessage "
                                *ngIf="submitted || ngForm.controls['crop_code'].invalid && (ngForm.controls['crop_code'].dirty || ngForm.controls['crop_code'].touched)">
                                <span *ngIf=" ngForm.controls['crop_code'].errors?.['required']">
                                    Please Enter Crop Code.<br>
                                </span>
                            </div> -->
                        </div>
                    </div>
                </div>
                <!-- (blur)="onBlurCropName($event)" -->
                <div class="col-12 pt-3 pr-2">
                    <div class="row">
                        <div class="col-md-12 col-sm-12  col-lg-2 pl-4 ">
                            <label for="" class="left-heading">Crop Name</label>
                        </div>
                        <div
                            class="col-md-12 col-sm-11 pl-sm-3 pl-lg-0 pl-4 col-lg-9 ml-xs-3 px-sm-4 pr-sm-4 col-11 col-xs-3 pl-sm-4 pr-sm-4 pl-md-4 pr-mr-4">
                            <input type="text" class="form-control" [ngClass]=" disabledfield ? 'disabledfield' : ''"
                                formControlName="crop_name" placeholder="Enter Crop Name"
                                (paste)="onPaste($event,'crop_name','50')" (keypress)="isAlfa($event);"
                                (keypress)="checkLength($event,50)" minlength="3" maxlength="50">
                            <div class="crop_name errorMessage "
                                *ngIf="submitted || ngForm.controls['crop_name'].invalid && (ngForm.controls['crop_name'].dirty || ngForm.controls['crop_name'].touched)">
                                <span *ngIf=" ngForm.controls['crop_name'].errors?.['required']">
                                    Please Enter Crop Name. <br>
                                </span>
                                <span *ngIf=" ngForm.controls['crop_name'].errors?.['pattern']">
                                    Please Enter Valid Crop Name. <br>
                                </span>
                            </div>
                            <div *ngIf="cropNameError">
                                <span class="text-danger">{{cropNameError}}</span>
                            </div>
                            <div *ngIf="cropAlreadyExits">
                                <span class="text-danger">{{cropAlreadyExits}}</span>
                            </div>

                        </div>
                        <div class="col-2" *ngIf="!isView"></div>
                        <div class="col-9 pl-0" *ngIf="!isView">
                            <textarea id="cropname" name="cropname" rows="2" class="mt-3 w-100"
                                formControlName="crop_name_suggestion">

                            </textarea>
                        </div>
                    </div>
                </div>
                <div class="col-12 pt-3 pr-2">
                    <div class="row">
                        <div class="col-md-12 col-sm-12  col-lg-2 pl-4 ">
                            <label for="" class="left-headings">Crop Name (Hindi)</label>
                        </div>
                        <div
                            class="col-md-12 col-sm-11 pl-sm-3 pl-lg-0 pl-4 col-lg-9 ml-xs-3 px-sm-4 pr-sm-4 col-11 col-xs-3 pl-sm-4 pr-sm-4 pl-md-4 pr-mr-4">
                            <input type="text" class="form-control" [ngClass]=" disabledfield ? 'disabledfield' : ''"
                                formControlName="crop_name_hindi" placeholder="">
                        </div>

                    </div>
                </div>
                <div class="col-12 pt-3 pr-2">
                    <div class="row">
                        <div class="col-md-12 col-sm-12  col-lg-2 pl-4 ">
                            <label for="" class="left-heading">Crop Type</label>
                        </div>
                        <div
                            class="col-md-12 col-sm-11 pl-sm-3 pl-lg-0 pl-4 col-lg-9 ml-xs-3 px-sm-4 pr-sm-4 col-11 col-xs-3 pl-sm-4 pr-sm-4 pl-md-4 pr-mr-4">
                            <input type="text" class="form-control" [ngClass]=" disabledfield ? 'disabledfield' : ''"
                                formControlName="crop_type" placeholder="Enter Crop Type"
                                (paste)="onPaste($event,'crop_name','50')" (keypress)="isAlfa($event);"
                                (keypress)="checkLength($event,50)" minlength="3" maxlength="50">



                        </div>

                    </div>
                </div>
                <div class="col-12 pt-3 pr-2">
                    <div class="row">
                        <div class="col-md-12 col-sm-12  col-lg-2 pl-4  ">
                            <label for="" class="left-heading">Botanical Name</label>
                        </div>
                        <div
                            class="col-md-12 col-sm-11 pl-sm-3 pl-lg-0 pl-4 col-lg-9 ml-xs-3 px-sm-4 pr-sm-4 col-11 col-xs-3 pl-sm-4 pr-sm-4 pl-md-4 pr-mr-4">
                            <input type="text" class="form-control" (paste)="onPaste($event,'botanical_name','50')"
                                formControlName="botanical_name" placeholder="Enter Botanical Name"
                                (keypress)="isAlfa($event);" (keypress)="checkLength($event,50)" minlength="3"
                                maxlength="50">
                            <div class="botanical_name errorMessage "
                                *ngIf="submitted || ngForm.controls['botanical_name'].invalid && (ngForm.controls['botanical_name'].dirty || ngForm.controls['botanical_name'].touched)">
                                <span *ngIf=" ngForm.controls['botanical_name'].errors?.['required']">
                                    Please Enter Botanical Name.<br>
                                </span>
                                <span *ngIf=" ngForm.controls['botanical_name'].errors?.['pattern']">
                                    Please Enter Valid Botanical Name. <br>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-12 pt-3 pr-2">
                    <div class="row">
                        <div class="col-md-12 col-sm-12  col-lg-2 pl-4 ">
                            <label for="" class="left-headings">Minimum Seed Replacement Rate(%)</label>
                        </div>
                        <div
                            class="col-md-12 col-sm-11 pl-sm-3 pl-lg-0 pl-4 col-lg-9 ml-xs-3 px-sm-4 pr-sm-4 col-11 col-xs-3 pl-sm-4 pr-sm-4 pl-md-4 pr-mr-4">
                            <span class="percentinput"></span>
                            <input type="text" class="form-control" [ngClass]=" disabledfield ? 'disabledfield' : ''"
                                formControlName="seed_ratio" placeholder="Enter Minimum Seed Replacement Rate(%)"
                                (blur)="checkSeedPercent($event)" (keydown)=" checkNumber($event)" minlength="3"
                                maxlength="3">

                            <div class="seed_ratio errorMessage "
                                *ngIf="submitted || ngForm.controls['seed_ratio'].invalid && (ngForm.controls['seed_ratio'].dirty || ngForm.controls['seed_ratio'].touched)">
                                <span *ngIf=" ngForm.controls['seed_ratio'].errors?.['required']">
                                    Please Enter Seed Replacement Rate. <br>
                                </span>
                            </div>
                            <div *ngIf="rateError && setError">
                                <span class="text-danger"
                                    [hidden]="ngForm.controls['seed_ratio'].errors?.['required']">{{setError}}</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- start add status -->
                <div *ngIf="isEdit || isView" class="col-12 pt-3 pr-2">
                    <div class="row">
                        <div class="col-sm-2 pl-4  pt-2">
                            <label for="" class="left-heading">Status</label>
                        </div>
                        <div class="col-sm-9 pt-2">
                            <div class="row">
                                <div class="col-12">
                                    <div class="row">
                                        <div class="col-1">
                                            <label class="switch">
                                                <input type="checkbox" (change)="toggleDisplayDiv()"
                                                    formControlName="status_toggle" checked>
                                                <span class="slider round"></span>
                                            </label>
                                        </div>
                                        <div class="col-10">
                                            <div class="row">
                                                <div class="col-12 status_in_act">
                                                    <div [hidden]="!isShowDiv">Inactive</div>
                                                </div>
                                                <div class="col-12 status_in_act">
                                                    <div [hidden]="isShowDiv">Active</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
                <!-- add status finish -->
                <!-- Button -->
                <div class="col-md-12 pb-3 mt-4 sub_updt_cancel_btn " *ngIf="!isEdit">

                    <div class="resp_btn" [hidden]="!submitHide">
                        <!-- <button class="form-button d-inline-flex justify-content-center verticle-content-middle mb-3"  (click)="enrollFormSave()">Submit</button> -->
                        <button (click)="checkcropname()"
                            class="form-button submit_btn ml-2 d-inline-flex justify-content-center verticle-content-middle mb-3">Submit</button>
                    </div>

                    <div class="resp_btn" [ngClass]="{'': !disabledfield }">
                        <button routerLink="/add-crop-list"
                            class="form-button cancel_btn ml-2 d-inline-flex justify-content-center verticle-content-middle mb-3">Cancel</button>
                    </div>


                </div>

                <div class="col-12 pb-3 mt-4 sub_updt_cancel_btn">

                    <div class="resp_btn" *ngIf="isEdit">
                        <button (click)="checkcropname()"
                            class="form-button update_btn ml-2 d-inline-flex justify-content-center verticle-content-middle mb-3"
                            type="submit">Update</button>
                    </div>
                    <div class="resp_btn" *ngIf="cancelbtn">
                        <button
                            class="form-button ml-2 cancel_btn d-inline-flex justify-content-center verticle-content-middle mb-3"
                            routerLink="/add-crop-list">Cancel</button>
                    </div>

                </div>
                <!--button-->

            </div>
        </div>

    </form>