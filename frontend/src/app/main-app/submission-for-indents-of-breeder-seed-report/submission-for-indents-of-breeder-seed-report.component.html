<div class="row my-4 w-100 mx-0">
    <div class="col-12 d-flex justify-content-center verticle-content-middle">
        <div class="main-content-form-wrapper px-0 py-2">
            <div class="row">
                <div class="col-12 mt-2">
                    <div class="col-md-12 pl-3 pb-2">
                        <span class="heading_notofied">Submission of Indents of
                            Breeder Seeds</span>
                    </div>
                    <form [formGroup]="ngForm"
                        (ngSubmit)="onSubmit(ngForm.value)">
                        <div class="col-12 pt-2">
                            <div class="row ">

                                <div class="col-12 col-md-4 pl-0 pr-0 py-2 py-md-0 mt-3 mt-md-0">
                                    <div class="col-12">
                                        <label for="Crop Group"
                                            class="search_text">Year of Indent</label>
                                    </div>
                                    <div class="col-12 pr-md-0">
                                        <select class="form-select form-control"
                                            aria-label="Default select example"
                                            formControlName="year">
                                            <option value="" disabled>Select
                                                Year of Indent</option>
                                            <option *ngFor="let year of
                                                yearOfIndent"
                                                value="{{year.value}}">
                                                {{year.name}}</option>
                                        </select>
                                        <div class="pl-0 toggle-button"
                                            ngbDropdown>
                                            <!-- <img src="assets/images/16.svg" alt="" srcset=""> -->
                                            <!-- <i class="fa-solid fa-angle-down downicon"></i> -->
                                        </div>
                                    </div>

                                </div>
                                <div class="col-12 col-md-4 pl-0 pr-0 py-2 py-md-0 mt-3 mt-md-0">
                                    <div class="col-12">
                                        <label for="Crop Group"
                                            class="search_txt">Season</label>
                                    </div>
                                    <div class="col-12 pr-md-0">
                                        <select class="form-select form-control"
                                            aria-label="Default select example"
                                            formControlName="season">
                                            <option value="" disabled>Select
                                                Season</option>
                                            <option *ngFor="let data of
                                                dataSeason"
                                                value="{{data.season}}">
                                                {{data.name? data.name:'NA'}}</option>
                                        </select>
                                        <div class="pl-0 toggle-button"
                                            ngbDropdown>
                                            <!-- <i class="fa-solid fa-angle-down downicon"></i> -->
                                        </div>

                                    </div>
                                </div>
                                <div class="col-12 col-md-4 pl-0 pr-0 py-2 py-md-0 mt-3 mt-md-0">
                                    <div class="col-12">
                                        <label for="Crop Group"
                                            class="search_txt">Crop Name</label>
                                    </div>
                                    <div class="col-12">
                                        <select class="form-select form-control"
                                            aria-label="Default select example"
                                            formControlName="crop_code">
                                            <option value="" disabled>Select
                                                Crop Name</option>
                                            <option *ngFor="let data of
                                                cropName"
                                                value="{{data.crop_code}}">
                                                {{data && data.m_crop &&
                                                data.m_crop? data.m_crop
                                                .crop_name:'NA'}}</option>
                                        </select>
                                        <div class="pl-0 toggle-button"
                                            ngbDropdown>
                                            <!-- <i class="fa-solid fa-angle-down downicon"></i> -->
                                        </div>

                                    </div>
                                </div>
                                <div class="col-12 col-md-4 pl-0 pr-0 py-2 py-md-2 mt-3 mt-md-0">
                                    <div class="col-12">
                                        <label for="Crop Group"
                                            class="search_txt">Variety Name</label>
                                    </div>
                                    <div class="col-12 pr-md-0">
                                        <select class="form-select form-control"
                                            aria-label="Default select example"
                                            formControlName="variety_name">
                                            <option value="" disabled>Select
                                                Variety Name</option>
                                            <option *ngFor="let data of
                                                crop_variety_data"
                                                value="{{data.m_crop_variety.id}}">
                                                {{data.m_crop_variety.variety_name}}</option>
                                        </select>
                                        <div class="pl-0 toggle-button"
                                            ngbDropdown>
                                            <!-- <i class="fa-solid fa-angle-down downicon"></i> -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-12 mt-3 mt-md-2 pl-3 buttons-phone">
                            <button type="submit"
                                class="form-button search d-inline-flex
                                justify-content-center verticle-content-middle">
                                Search
                            </button>
                            <button
                                class="clear-form-button ml-3 mt-3 mt-md-2
                                d-inline-flex justify-content-center
                                verticle-content-middle"
                                (click)="clear()">
                                Clear
                            </button>

                            <div class="dropdown float-right export_dropdown">
                                <button type="button" (click)="myFunction()"
                                    class="form-button search ml-1 mt-3 mt-md-2
                                    d-inline-flex justify-content-center
                                    verticle-content-middle mb-2 mx-0"
                                    style="font-size: 87%;">Export To &nbsp;<i
                                        class="fa fa-angle-down"
                                        aria-hidden="true"> </i></button>
                                <div id="myDropdown" class="dropdown-content">
                                    <!-- <a (click)="download()"> <img src="assets\icons\pdf-icon.png" alt=""
                                            width="20px" height="20px"> PDF</a> -->
                                    <a (click)="exportexcel()"> <img
                                            src="assets\icons\excel.jpg" alt=""
                                            width="20px" alt=""> Excel</a>
                                </div>
                            </div>

                        </div>
                    </form>
                    <div class="col-12 pb-0">
                        <hr class="separator ">
                    </div>
                </div>

                <!-- table for exel Download start -->
                <table id="excel-table" style="display:none">
                    <thead>
                        <tr>
                            <th>S/N</th>
                            <th>Year Of Indent</th>
                            <th >Crop Name</th>
                            <th >Variety Name</th>
                            <th >Season</th>
                            <th >Indent Quantity</th>
                        </tr>
                    </thead>
                    <tbody *ngFor="let data of exportdata; let dataIndex=index">
                        <tr>
                            <td>
                                <span>{{ dataIndex + 1}}.</span>
                            </td>
                            <td>
                                <span style="white-space: nowrap;"
                                    title="{{data &&
                                    data.year?(data.year+'-'+(data.year+1-2000)):'NA'}}">{{
                                    data &&
                                    data.year?(data.year+'-'+(data.year+1-2000)):'NA'
                                    }}</span>
                            </td>
                            <td>
                                <span title="{{data && data.m_crop &&
                                    data.m_crop.crop_name ?
                                    data.m_crop.crop_name :''}}">{{(data
                                    && data.m_crop &&
                                    data.m_crop.crop_name &&
                                    (data.m_crop.crop_name.length > 30)
                                    ?
                                    (data.m_crop.crop_name.substring(0,
                                    30) +
                                    "..."):(data.m_crop?data.m_crop.crop_name
                                    : data && data.crop_name ?
                                    data.crop_name :"NA" ))}}</span>
                            </td>
                            <td>
                                <span title="{{data &&
                                    data.m_crop_variety &&
                                    data.m_crop_variety.variety_name ?
                                    data.m_crop_variety.variety_name:''}}">{{(data
                                    && data.m_crop_variety
                                    &&data.m_crop_variety.variety_name
                                    &&
                                    (data.m_crop_variety.variety_name.length
                                    >
                                    30) ?
                                    (data.m_crop_variety.variety_name.substring(0,
                                    30) +
                                    "..."):(data.m_crop_variety?data.m_crop_variety.variety_name:'NA'))}}</span>
                            </td>
                            <td>
                                <span title="{{data && data.season &&
                                    (data.season.trim()==='R') ?'Rabi'
                                    :(data.season.trim()=='S')
                                    ?'Summer':(data.season.trim()===
                                    'K')
                                    ?'Kharif':(data.season.trim()===
                                    'O')?'Others':'NA'}}">{{data &&
                                    data.season ?
                                    (data.season.trim()==='O') ?
                                    "Others" :
                                    (data.season.trim()==='R') ? "Rabi"
                                    : (data.season.trim()==='K') ?
                                    "Kharif" :
                                    (data.season.trim()==='S') ?
                                    "Summer" :"" :''}}</span>
                            </td>
                            <td>
                                <span title="{{data &&
                                    data.indent_quantity ?
                                    data.indent_quantity
                                    :'NA'}}{{(data.unit=='kilogram')?'Kg':'Quintal'}}">{{
                                    data.indent_quantity}}
                                    {{(data.unit=='kilogram')?'Kg':'Quintal'}}</span>
                            </td>
                        </tr>
                    </tbody>
                </table>



                <!-- table for exel Download end -->
                <div class="col-12 px-4">
                    <div class="list-wrapper px-4 py-2">
                        <div class="row d-md-flex data-row-header extra-header">
                            <div class="col-12 col-md-12 py-3 d-flex
                                justify-content-center">Submission of Indents of
                                Breeder Seeds</div>
                        </div>
                        <br>
                        <div class="row data-row">

                            <table class="table table-bordered
                                table-responsive">
                                <thead>
                                    <tr class="data-row-header">
                                        <th scope="col" class="col-md-0 py-3 sn-report">S/N</th>
                                        <th scope="col" class="col-md-3 py-3">Year
                                            Of Indent</th>
                                        <th scope="col" class="col-md-3 py-3">Crop
                                            Name</th>
                                        <th scope="col" class="col-md-2 py-3">Variety
                                            Name</th>
                                        <th scope="col" class="col-md-2 py-3">Season</th>
                                        <th scope="col" class="col-md-2 py-3">Indent
                                            Quantity</th>
                                    </tr>
                                </thead>
                                <tbody *ngFor="let data of
                                    filterPaginateSearch.itemList; let
                                    dataIndex=index">
                                    <td>
                                        <span>{{
                                            (filterPaginateSearch.itemListCurrentPage
                                            - 1) *
                                            filterPaginateSearch.itemListPageSize
                                            + dataIndex + 1}}.</span>
                                    </td>
                                    <td>
                                        <span style="white-space: nowrap;"
                                            title="{{data &&
                                            data.year?(data.year+'-'+(data.year+1-2000)):'NA'}}">{{
                                            data &&
                                            data.year?(data.year+'-'+(data.year+1-2000)):'NA'
                                            }}</span>
                                    </td>
                                    <td>
                                        <span title="{{data && data.m_crop &&
                                            data.m_crop.crop_name ?
                                            data.m_crop.crop_name :''}}">{{(data
                                            && data.m_crop &&
                                            data.m_crop.crop_name &&
                                            (data.m_crop.crop_name.length > 30)
                                            ?
                                            (data.m_crop.crop_name.substring(0,
                                            30) +
                                            "..."):(data.m_crop?data.m_crop.crop_name
                                            : data && data.crop_name ?
                                            data.crop_name :"NA" ))}}</span>
                                    </td>
                                    <td>
                                        <span title="{{data &&
                                            data.m_crop_variety &&
                                            data.m_crop_variety.variety_name ?
                                            data.m_crop_variety.variety_name:''}}">{{(data
                                            && data.m_crop_variety
                                            &&data.m_crop_variety.variety_name
                                            &&
                                            (data.m_crop_variety.variety_name.length
                                            >
                                            30) ?
                                            (data.m_crop_variety.variety_name.substring(0,
                                            30) +
                                            "..."):(data.m_crop_variety?data.m_crop_variety.variety_name:'NA'))}}</span>
                                    </td>
                                    <td>
                                        <span title="{{data && data.season &&
                                            (data.season.trim()==='R') ?'Rabi'
                                            :(data.season.trim()=='S')
                                            ?'Summer':(data.season.trim()===
                                            'K')
                                            ?'Kharif':(data.season.trim()===
                                            'O')?'Others':'NA'}}">{{data &&
                                            data.season ?
                                            (data.season.trim()==='O') ?
                                            "Others" :
                                            (data.season.trim()==='R') ? "Rabi"
                                            : (data.season.trim()==='K') ?
                                            "Kharif" :
                                            (data.season.trim()==='S') ?
                                            "Summer" :"" :''}}</span>
                                    </td>
                                    <td>
                                        <span title="{{data &&
                                            data.indent_quantity ?
                                            data.indent_quantity
                                            :'NA'}}{{(data.unit=='kilogram')?'Kg':'Quintal'}}">{{
                                            data.indent_quantity}}
                                            {{(data.unit=='kilogram')?'Kg':'Quintal'}}</span>
                                    </td>

                                </tbody>
                            </table>
                        </div>

                        <div *ngIf="filterPaginateSearch &&
                            filterPaginateSearch.initialized &&
                            (!filterPaginateSearch.itemList ||
                            filterPaginateSearch.itemList.length <1)"
                            class="px-2 py-3 w-100" style="height: 50px;">
                            <div class="d-flex verticle-content-middle
                                justify-content-center w-100">
                                No Data Found.
                            </div>
                        </div>
                    </div>
                    <div class="col-12 px-4 py-3 mb-3">
                        <app-pagination-ui></app-pagination-ui>
                    </div>
                </div>
            </div>
        </div>
    </div>