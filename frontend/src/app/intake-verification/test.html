<!-- <p>breeder-seed-inventory works!</p> -->
<div class="main-inventory">
    <div class="row">
        <div class="col-12 col-md-12 col-lg-12 title-inventory pl-2 pb-3 pt-0">
           <span class="ml-3"> Intake Verification Registration</span> 

            <form [formGroup]="ngForm">

                <!-- first card ui  -->
                <div class="col-12 col-md-12 col-lg-12">
                    <div class="row card-inventory form-group">
    
                        <!-- start sectio 1  -->
                        <div class="col-12 col-md-10 col-lg-10 pt-4">
                            <div class="row">
                                <!-- year of indent -->
                                <div class="col-12 col-md-4 col-lg-4 col-sm-12">
                                    <div class="row">
                                        <div class="col-12">
                                            <label for="year" class="label-inventory required">SelectYear</label>
                                        </div>
                                        <div class="col-12">
                                            <select class=" form-control input-inventory" formControlName="year">
                                                <option value="">Please Select Year</option>
                                                <option *ngFor="let year of inventoryYearData" value="{{year.year}}">{{year
                                                    && year.year}}-{{(year.year-2000)+1}}</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
    
                                <!-- season  -->
                                <div class="col-12 col-md-4 col-lg-4 col-sm-12">
                                    <div class="row">
                                        <div class="col-12">
                                            <label for="year" class="label-inventory required">Season</label>
                                        </div>
                                        <div class="col-12">
                                            <select class=" form-control input-inventory" formControlName="season">
                                                <option value="">Please Select Season</option>
                                                <option *ngFor="let data of inventorySeasonData"
                                                    value="{{data.season_code}}">{{data && data.season ? data.season:''}}
                                                </option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
    
                                <!-- crop -->
                                <div class="col-12 col-md-4 col-lg-4 col-sm-12">
                                    <div class="row">
                                        <div class="col-12">
                                            <label for="year" class="label-inventory required">Crop</label>
                                        </div>
                                        <div class="col-12">
                                            <select class=" form-control input-inventory" formControlName="crop">
                                                <option value="">Please Select Crop</option>
                                                <option *ngFor="let data of inventoryCropData" value="{{data.crop_code}}">
                                                    {{data && data.crop_name ? data.crop_name:''}}</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
    
                            </div>
                        </div>
    
                        <div class="col-md-2 col-lg-2 col-sm-12 col-xl-2 pt-1 px-2">
                            <div class="row">
                                <div class="col-12 col-md-12 col-lg-12">
                                    <p><span style="color:transparent;">.</span></p>
                                </div>
                                <div class="col-12 col-md-12 col-lg-12 col-xl-12 pl-2 mt-2">
                                    <!-- form-button btn-inventory search d-inline-flex justify-content-center verticle-content-middle mb-3 -->
                                    <button
                                        class="form-button btn-inventory search d-inline-flex justify-content-center verticle-content-middle"
                                        (click)="getPageData()">Search</button>
                                    <!-- (click)="search()" -->
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-md-10 col-lg-10 pt-1">
                            <div class="row">
                                <div class="col-12 col-md-4 co-lg-4 col-sm-12">
                                    <div class="row">
                                        <div class="col-12 col-md-5 col-lg-5 col-sm-12 nowrap">
                                            <label class="label-inventory-v2 ">Total Varieties:&nbsp;3</label>
                                        </div>
                                        <div class="col-12 col-md-7 col-lg-7  col-sm-12 nowrap">
                                            <label class="label-inventory-v2">Total Indent Quantity:&nbsp;350.00</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
    
                        <!-- seprater line -->
                        <!-- <div class="col-12 col-md-12 col-lg-12">
                            <hr class="dotted">
                        </div> -->
    
                        <!-- end sectio 1  -->
    
                    </div>
    
                </div>
    
                <!-- second ui  -->
                <div class="col-12 col-md-12 col-lg-12" *ngIf="isCrop">
                    <div class="row card-inventory form-group">
                        <div class="col-12 col-md-12 col-lg-12">
                            <!-- start section 2 -->
                            <!-- [ngClass]="is_developed?'col-10':'col-10'" -->
                            <div class="row">
    
                                <div class="col-12 col-md-10 col-lg-10 pt-1">
                                    <div class="row">
                                        <!-- Variety -->
                                        <div class="col-12 col-md-4 col-lg-4">
                                            <div class="row">
                                                <div class="col-12">
                                                    <label for="year" class="label-inventory ">Select Variety</label>
                                                </div>
                                                <div class="col-12">
                                                    <select type="text" class=" form-control input-inventory"
                                                        formControlName="variety">
                                                        <option value="">Please Select Variety</option>
                                                        <option *ngFor="let data of inventoryVarietyData"
                                                            value="{{data.variety_id}}">{{data && data.variety_name ?
                                                            data.variety_name :""}}</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
    
                                    </div>
                                </div>
                                <div class="col-12 col-md-12 col-lg-12 pt-3">
                                    <div class="list-wrapper">
                                        <div class="row d-none d-md-flex data-row-header">
                                            <div class="col-6 col-md-3 py-2 d-flex verticle-content-middle">Production
                                                Centre</div>
                                            <div class="col-6 col-md-3 py-2 d-flex verticle-content-middle">Nucleus Seed
                                                Available (Qt)</div>
                                            <div class="col-6 col-md-3 py-2 d-flex verticle-content-middle">Breeder Seed
                                                Available (Qt)
                                            </div>
                                            <div class="col-6 col-md-3 py-2 d-flex verticle-content-middle">Target (Quantity
                                                of Breeder Seed to Produced) (Qt)</div>
                                            <!-- <div class="col-6 col-md-1 py-2 d-flex verticle-content-middle">Variety Code</div> -->
                                        </div>
                                        <div formArrayName="bspc">
                                            <!-- <div *ngFor="let employee of bspc().controls; let i=index"
                                               > -->
                                               <div>
                                                <div  class="row data-row">
                                                    <div class="col-6 col-md-3 py-2 d-flex verticle-content-middle">
                                                        <div class="w-fit-content">
                                                            <label class="d-md-none" class="d-md-none"><b>Production
                                                                    Centre</b>&nbsp;</label>
                                                            <span>
                                                                <!-- {{data.variety_name}}
                                                             {{ filterPaginateSearch.itemList[0]}} -->
                                                             <input type="text" class="table-input" formControlName="production_center" value=""  [attr.disabled]="true">
                                                             <!-- {{data && data.production_center ? data.production_center : ''}} -->
                                                            </span>
                                                        </div>
                                                    </div>
                                                    <div class="col-6 col-md-3 py-2 d-flex verticle-content-middle">
                                                        <div class="w-fit-content">
                                                            <label class="d-md-none"><b>Nucleus Seed Available
                                                                    (Qt):</b>&nbsp;</label>
        
                                                            <span style="cursor: pointer; word-break: break-word;"
                                                                data-toggle="tooltip" data-placement="bottom" title="">
                                                                <input type="text" class="table-input" formControlName="nucleus_seed_available" value=""  [attr.disabled]="true">
                                                                <!-- {{data && data.nucleus_seed_available ?
                                                                    data.nucleus_seed_available :''}} -->
                                                            </span>
                                                        </div>
                                                    </div>
                                                    <div class="col-6 col-md-3 py-2 d-flex verticle-content-middle">
                                                        <div class="w-fit-content">
                                                            <label class="d-md-none"><b>Breeder Seed Available
                                                                    (Qt):</b>&nbsp;</label>
                                                            <span style="cursor: pointer; word-break: break-word;"
                                                                data-toggle="tooltip" data-placement="bottom" title="">
                                                                <input type="text" class="table-input"  formControlName="breeder_seed_available" value="" [attr.disabled]="true">
                                                                <!-- {{data && data.breeder_seed_available ?
                                                                    data.breeder_seed_available : ''}} -->
                                                            </span>
        
                                                        </div>
                                                    </div>
                                                    <div class="col-6 col-md-3 py-2 d-flex verticle-content-middle">
                                                        <div class="w-fit-content">
                                                            <label class="d-md-none"><b>Target (Quantity of Breeder Seed to
                                                                    Produced) (Qt):</b>&nbsp;</label>
                                                            <span style="cursor: pointer; word-break: break-word;"
                                                                data-toggle="tooltip" data-placement="bottom" title="">
                                                                <input type="text"class="form-control" formControlName="total_target" value="">
                                                                <!-- {{data && data.total_target ? data.total_target : ''}} -->
                                                            </span>
                                                        </div>
                                                    </div>
                                                </div>
                                                
                                            </div>
                                        </div>
                                    </div>
                                    <div *ngIf="(bspsDataArray && bspsDataArray.length < 1)"
                                        class="px-2 py-3 w-100" style="height: 50px;">
                                        <div class="d-flex verticle-content-middle justify-content-center w-100">
                                            No Data Found.
                                        </div>
                                    </div>
                                </div>
    
                            </div>
    
                            <!-- button section -->
                            <div class="col-12 pt-3 pb-2 pl-0 buttons-phone">
                                <button
                                    class="btn-inventory-cancel search d-inline-flex justify-content-center verticle-content-middle mb-3"
                                    (click)="revertDataCancelation()"style="border: 2px solid #B64B1D;" >Cancel</button>
                                <button
                                    class="clear-form-button btn-inventory ml-3 d-inline-flex justify-content-center verticle-content-middle mb-3"
                                    (click)="saveForm()" *ngIf="!is_update">Save</button>
                                <button
                                    class="clear-form-button btn-inventory ml-3 d-inline-flex justify-content-center verticle-content-middle mb-3"
                                    (click)="updateForm()" *ngIf="is_update">Update</button>
                            </div>
                        </div>
                    </div>
    
                </div>
    
                <!-- third card ui  -->
                <div class="col-12 col-md-12 col-lg-12 pt-0">
                    <div class="row card-inventory form-group">
                        <div class="col-12 col-md-12 col-lg-12">
                            <div class="row pl-0">
                                <div class="col-12 col-md-10 col-lg-10 pl-0">
                                    <div class="col-12 col-md-4 pt-3 pb-3" [ngClass]="varietyDisbled ? 'disable_btn' :''">
                                        <ng-multiselect-dropdown [disabled]="varietyDisbled" [settings]="dropdownSettings"
                                            [data]="varietyList" formControlName="variety_filter"
                                            [placeholder]="'Please Select Variety '" class="containers"
                                            [ngClass]="varietyDisbled ? 'disable_btn' :''">
                                        </ng-multiselect-dropdown>
                                    </div>
                                </div>
                            </div>
                            <div class="list-wrapper" style="overflow-x: auto !important;">
                                <table class="table  bsp-one-table" style="overflow-x: scroll !important;">
                                    <thead class="data-row-header ">
                                        <tr class="table-header">
                                            <th class="table-header-left">Variety Name</th>
                                            <th>Indented Quantity</th>
                                            <th>BSPCs</th>
                                            <th>Nucleus Seed Available
                                                (Qt)</th>
                                            <th>Breeder Seed Available
                                                (Qt)</th>
                                            <th>Target (Quantity
                                                of Breeder Seed to be Produced, Qt)</th>
                                            <th  class="table-header-right">
                                                Action
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody class="data-row table-bordered" *ngIf="!isSearch">
                                        <ng-container *ngFor="let data of inventoryData;let i=index">
                                            <ng-container *ngFor="let bspcData of data.bspc;let bspcIndex = index">
                                                <tr>
                                                    <td *ngIf=" bspcIndex === 0" [attr.rowspan]="data.count" style="border-left: none !important;">
                                                        {{data.variety_name}}</td>
                                                    <td *ngIf=" bspcIndex === 0" [attr.rowspan]="data.count">
                                                        {{data.indent_qnt}}</td>
                                                    <td [attr.rowspan]="1">{{bspcData.bspc_name}}</td>
                                                    <td [attr.rowspan]="1">{{bspcData.include_seed}}</td>
                                                    <td [attr.rowspan]="1">{{bspcData.breeder_seed}}</td>
                                                    <td *ngIf="bspcIndex == 0" [attr.rowspan]="data.count">
                                                        {{data.breeder_seed_total_qnt}}</td>
                                                    <td *ngIf="bspcIndex == 0" [attr.rowspan]="data.count" style="border-right: none !important;">
    
                                                     <div class="row">
                                                        <button class="list-action-buttons-second ml-1" style="cursor: pointer; display: flex !important;"
                                                        (click)="editFunctinality(data)">
                                                        <img src="assets/images/Vector.svg">
                                                    </button>
                                                    <button class="list-action-buttons-second ml-2" style="cursor: pointer; display: flex !important;">
                                                        <img src="assets/images/Vector_delete.svg">
                                                    </button>
                                                     </div>
                                                    </td>
                                                </tr>
                                            </ng-container>
                                        </ng-container>
                                    </tbody>
                                </table>
                            </div>
                            <div *ngIf="(inventoryData && inventoryData.length < 1 || isSearch)"
                                class="px-2 py-3 w-100" style="height: 50px;">
                                <div class="d-flex verticle-content-middle justify-content-center w-100">
                                    No Data Found.
                                </div>
                            </div>
                        </div>
    
    
                        <div *ngIf="!isSearch" class="col-12 col- pt-2">
                            <div class="row">
                                <!-- <div class="col-10">
    
                                </div> -->
                                <!-- [disabled]="true" -->
                                <div class="col-2 pl-5 pl-md-0">
                                    <button 
                                        class="clear-form-button btn-inventory ml-3 d-inline-flex justify-content-center verticle-content-middle mb-3"
                                        (click)="navigateByUrl()">Next</button>
                                </div>
                            </div>
                        </div>
    
                        <div *ngIf="!isSearch" class="col-12 px-4 px-md-0 py-1 pb-4 pr-0">
                            <app-pagination-ui></app-pagination-ui>
                        </div>
                    </div>
                </div>
            </form>
        </div>
       
    </div>
</div>